services:

  # ── Hybrid Search REST API ───────────────────────────────────────────────
  api:
    build:
      context: .
      dockerfile: Dockerfile.api
    container_name: cuad-search-api-container
    ports:
      - "8000:8000"
    environment:
      - OPENSEARCH_HOST=host.docker.internal
      - OPENSEARCH_PORT=9200
      - INDEX_NAME=cuad_dataset
      - EMBEDDING_MODEL=all-MiniLM-L6-v2
    restart: unless-stopped
